{{ $view := . -}}
#ifndef CGO_GODOT_GO_GDEXTENSION_WRAPPER_H
#define CGO_GODOT_GO_GDEXTENSION_WRAPPER_H
/*------------------------------------------------------------------------------
//   This code was generated by template ffi_wrapper.h.tmpl.
//
//   Changes to this file may cause incorrect behavior and will be lost if
//   the code is regenerated. Any updates should be done in
//   "ffi_wrapper.h.tmpl" so they can be included in the generated
//   code.
//----------------------------------------------------------------------------*/
#include <godot/gdextension_interface.h>

/* Go cannot call C function pointers directly, so we must generate C wrapper code to call the functions. */

// section: functions
{{ range $i, $f := $view.CollectFunctions -}}
	{{ $f.ReturnType.String }} cgo_callfn_{{ $f.Name }}(
		{{- "const" }} {{ $f.Name }} cb
		{{- range $j, $arg := $f.Arguments -}}
			, {{ $arg.Type.String }} {{ if $arg.Name }}{{ $arg.Name }}{{ else }}arg_{{ $j }}{{ end }}
		{{- end -}}
	);
{{ end -}}

// section: structs
{{ range $i, $t := $view.CollectStructs -}}
	{{- $fns := $t.CollectFunctions -}}

	{{- if gt (len $fns) 0 -}}
		/* struct ({{ $i }}) {{ $t.Name }} */
		{{ range $j, $f := $fns -}}
			{{ $f.ReturnType.String }} cgo_callfn_{{ $t.Name }}_{{ $f.Name }}(
				{{- "const" }} {{ $t.Name }} * p_struct
				{{- range $j, $arg := $f.Arguments -}}
					, {{ $arg.Type.String }} {{ $arg.Name }}
				{{- end -}}
			);
		{{ end -}}
	{{ end -}}
{{ end -}}
#endif
