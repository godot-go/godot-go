{{ $view := . -}}
package globalstate

/*------------------------------------------------------------------------------
//   This code was generated by template classes.init.go.tmpl.
//
//   Changes to this file may cause incorrect behavior and will be lost if
//   the code is regenerated. Any updates should be done in
//   "classes.init.go.tmpl" so they can be included in the generated
//   code.
//----------------------------------------------------------------------------*/

//revive:disable

// #include <godot/gdextension_interface.h>
// #include "classes.callbacks.gen.h"
// #include <stdio.h>
// #include <stdlib.h>
import "C"
import (
	. "github.com/godot-go/godot-go/pkg/builtin"
	. "github.com/godot-go/godot-go/pkg/ffi"
	. "github.com/godot-go/godot-go/pkg/gdclass"
)

func RegisterEngineClasses() {
	GDExtensionBindingGDExtensionInstanceBindingCallbacks.Clear()
{{ range $i, $c := $view.Classes -}}
	GDExtensionBindingGDExtensionInstanceBindingCallbacks.Set("{{ $c.Name }}",
		NewGDExtensionInstanceBindingCallbacks(
			(GDExtensionInstanceBindingCreateCallback)(C.cgo_gdextension_class_binding_create_callback_{{ $c.Name }}),
			(GDExtensionInstanceBindingFreeCallback)(C.cgo_gdextension_class_binding_free_callback_{{ $c.Name }}),
			(GDExtensionInstanceBindingReferenceCallback)(C.cgo_gdextension_class_binding_reference_callback_{{ $c.Name }}),
		))
{{ end -}}

	GDNativeConstructors.Clear()
{{ range $i, $c := $view.Classes -}}
	GDNativeConstructors.Set("{{ $c.Name }}", NewGDExtensionClassFrom{{ $c.Name }}Owner)
{{ end -}}
}

func RegisterEngineClassRefs() {
	GDClassRefConstructors.Clear()
	{{ range $i, $c := $view.FilteredRefcountedClasses -}}
	{{ $refInterfaceName := (printf "Ref%s" $c.Name) -}}
	{{ $refStructName := (printf "Ref%sImpl" $c.Name) -}}
	GDClassRefConstructors.Set("{{ $c.Name }}", New{{ $refInterfaceName }}AsRef)
	{{ end -}}
}
